javascript:function get100Tribes(){var e=new Date;e.getTime().toString();ss.emit(rp.RANKING_TRIBE,{area_type:"world",offset:0,count:1e3,order_by:"rank",order_dir:0,area_id:0},function(e){var r=new Date,t=r.getTime().toString()+"_tribes.json";console.save({tribes:e.ranking},t)})}function getAreaData(e,r){ss.emit(rp.MAP_GETVILLAGES,{width:50,height:50,x:e,y:r},function(t){for(var s=0;s<villages.length;s++)null!=villages[s].character_id&&playerIds.push(villages[s].character_id);villages=villages.concat(t.villages),i++,console.log("i:",i,"/400, x:",e,", y:",r),i==coords.length?(console.log("Removing duplicates from list of player ids"),playerIds=playerIds.unique(),console.log("done"),console.log("Getting players"),getPlayers(),console.save({villages:villages},dStr+".json"),console.save(playerIds,"currentPlayerIds.json")):getAreaData(coords[i].x,coords[i].y)})}function getPlayersDB(e,r,t){for(var s=0,n=(playerIds.length,[]),o=[];t+r>playerIds.length;)r-=1,s=1;for(var l=0;r>l;l++)n.push(e);for(j=0;j<r;j++)o.push({character_id:playerIds[t+j]});ss.emitMultiple(n,o,function(n){for(var o=0;o<n.length;o++)playersDB.push(n[o]);if(t+=r,1==s){console.log(String(playersDB.length)+"/"+String(playerIds.length)),console.log("Done with Players, onto Achievements");var n=new Date,l=n.getTime().toString()+"_players.json";console.save({players:playersDB},l),getPlayersAchievements()}else console.log(String(playersDB.length)+"/"+String(playerIds.length)),getPlayersDB(e,r,t)})}function getPlayersAchDB(e,r,t){for(var s=0,n=(playerIds.length,[]),o=[];t+r>playerIds.length;)r-=1,s=1;for(var l=0;r>l;l++)n.push(e);for(j=0;j<r;j++)o.push({character_id:playerIds[t+j]});ss.emitMultiple(n,o,function(n){for(var o=0;o<n.length;o++)playersAchievements.push(n[o]);if(t+=r,1==s){console.log(String(playersAchievements.length)+"/"+String(playerIds.length));var n=new Date,l=n.getTime().toString()+"_playersAch.json";console.save({playersAchievements:playersAchievements},l)}else console.log(String(playersAchievements.length)+"/"+String(playerIds.length)),getPlayersAchDB(e,r,t)})}function setPlayerIds(e){null!=e&&(playerIds=e)}function dbRetrieve(){get100Tribes(),i=0,getAreaData(0,0),setPlayerIds(null)}function getPlayers(){playersDB=[],getPlayersDB(rp.CHAR_GET_PROFILE,150,0)}function getPlayersAchievements(){playersAchievements=[],getPlayersAchDB(rp.ACHIEVEMENT_GET_CHAR_ACHIEVEMENTS,150,0)}!function(e){e.save=function(r,t){if(!r)return void e.error("Console.save: No data");t||(t="console.json"),"object"==typeof r&&(r=JSON.stringify(r,void 0,4));var s=new Blob([r],{type:"text/json"}),n=document.createEvent("MouseEvents"),o=document.createElement("a");o.download=t,o.href=window.URL.createObjectURL(s),o.dataset.downloadurl=["text/json",o.download,o.href].join(":"),n.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),o.dispatchEvent(n)}}(console),Array.prototype.unique=function(){var e,r={},t=this.length,s=[];for(e=0;t>e;e+=1)r[this[e]]=this[e];for(e in r)s.push(r[e]);return s};for(var ss=window.injector.get("socketService"),rp=window.injector.get("routeProvider"),villages=[],d=new Date,dStr=d.getTime().toString(),mapSaveStr=dStr+".json",playersSaveStr=dStr+"_players.json",pAchSaveStr=dStr+"_playersAch.json",coords=[],playerIds=[],playersDB=[],playersAchievements=[],x=0;1e3>x;x+=50)for(var y=0;1e3>y;y+=50)coords.push({x:x,y:y});dbRetrieve();